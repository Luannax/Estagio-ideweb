<!DOCTYPE html>
<html>

<head>
    <title>IDE Web</title>
    <link rel="icon" href="./img/11.png">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="css/escuro.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- Ícones do Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="./logo/11.png" class="logo" width="55" height="50" alt="IDE Web">
            </a>
        </div>
    </nav>

    <!-- Container principal -->
    <main class="container mt-3">
        <div class="row g-2">
            <!-- Botões de salvar e abrir -->
            <div class="col-6 d-flex justify-content-start">
                <!-- Botão Salvar -->
                <button class="btn btn-outline-primary btn-icon ms-2 btn-salvar" alt="Botão salvar">
                    <i class="bi bi-floppy-fill"></i>
                </button>

                <!-- Botão Abrir -->
                <input type="file" id="file-input" style="display: none;">
                <button class="btn btn-outline-primary btn-icon ms-2 btn-abrir" onclick="document.getElementById('file-input').click();" alt="Botão abrir arquivo">
                    <i class="bi bi-folder-fill"></i>
                </button>
            </div>

            <!-- Botões de controle: voz, acessibilidade, linguagem, login/logout -->
            <div class="col-6 d-flex justify-content-end">
                <!-- Botão Voz -->
                <button class="btn btn-outline-primary btn-icon ms-2" alt="Botão voz">
                    <i class="bi bi-mic-fill"></i>
                </button>

                <!-- Botão Acessibilidade -->
                <button class="btn btn-primary btn-icon ms-2" data-bs-toggle="modal" data-bs-target="#modalAcessibilidade" alt="Botão abrir configurações do leitor de tela">
                    <i class="bi bi-universal-access-circle"></i>
                </button>

                <!-- Seletor de linguagem -->
                <select class="form-select w-auto ms-2" alt="opções de linguagem">
                    <option>Python</option>
                    <option>...</option>
                </select>

                <!-- Botão Entrar -->
                <button class="btn btn-outline-success ms-2" data-bs-toggle="modal" data-bs-target="#sigaaModal" id="loginButton" alt="Botão para fazer login na ide">
                    <i class="bi bi-box-arrow-in-right"></i> Entrar
                </button>

                <!-- Botão Sair -->
                <div id="userInfo" class="d-none">
                    <button type="button" class="btn btn-outline-danger btn-icon" id="logoutButton" alt="Botão sair do login da ide">
                        <i class="bi bi-box-arrow-right"></i> Sair
                    </button>
                </div>
            </div>
        </div>

        <!-- Área do editor de código -->
        <div class="row mt-3">
            <div class="col-12">
                <div class="input-algoritmo">
                    <!-- Aqui o ACE será carregado -->
                    <div id="code" name="code" class="form-control" tabindex="0" role="textbox" alt="Área de digitação do algoritmo"></div>
                </div>
            </div>
        </div>

        <!-- Botões de ação abaixo do editor -->
        <div class="row mt-3">
            <div class="col-12 d-flex">
                <!-- Botão Executar -->
                <button class="btn btn-success me-2" alt="Botão executar código">
                    <i class="bi bi-play-fill"></i> Run
                </button>

                <!-- Botão Compartilhar -->
                <button class="btn btn-dark btn-compartilhar" alt="Botão compartilhar código">
                    <i class="bi bi-share-fill"></i> Compartilhar
                </button>
            </div>
        </div>

        <!-- Terminal de saída do código -->
        <div class="row mt-3">
            <div class="col-12">
                <div class="d-flex justify-content-center output-algoritmo mt-3">
                    <textarea id="terminal" name="terminal" class="form-control" rows="10" readonly alt="Terminal"></textarea>
                </div>
            </div>
        </div>
    </main>

    <!-- Rodapé -->
    <footer class="footer mt-5">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="d-flex justify-content-center text-center flex-wrap">
                        <p class="mb-0">Desenvolvido por
                            <a href="https://github.com/Luannax" target="_blank">Luanna Bahia</a>,
                            <a href="https://github.com/ApN-Jonas" target="_blank">Jonas Dantas</a>,
                            <a href="https://github.com/Elismara04" target="_blank">Elismara Rodrigues</a> e
                            <a href="https://github.com/PedroHenrBarreto" target="_blank">Pedro Henrique</a>
                            © 2025 - Mato Grosso
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <!-- jQuery + Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- Font Awesome (opcional, caso use ícones adicionais) -->
    <script src="https://kit.fontawesome.com/ff7538096c.js" crossorigin="anonymous"></script>

    <!-- Google Analytics (opcional) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-45TZKHQBDR"></script>

    <!-- Ace Editor -->
    <script src="src-noconflict/ace.js" charset="utf-8"></script>
    <script src="src-noconflict/ext-language_tools.js"></script>
    <script src="src-noconflict/mode-javascript.js"></script>

    <!-- Pyodide para execução Python -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.22.0/full/pyodide.js"></script>

    <!-- Scripts principais do projeto -->
    <script src="./js/script.js"></script>
    <script src="./js/toggle.js"></script>
    <script src="./js/editor.js"></script> <!-- Inicializa o Ace Editor -->
    <script src="./bd/script.js"></script>
    <script src="./js/modalconfig.js"></script>
    <script src="./js/leitor de tela/WebSpeechAPI.js"></script>
    <script src="./js/Config Leitor de tela/script.js"></script>
    <script src="./js/leitor de tela/announceSuggestions.js"></script>

    <!-- Carregamento dinâmico dos modais -->
    <script>
        window.addEventListener('load', () => {
            populateAudioOutputDevices?.();
        });

        function loadModal(modalId, modalFile) {
            fetch(modalFile)
                .then(response => response.text())
                .then(data => {
                    document.body.insertAdjacentHTML('beforeend', data);
                })
                .catch(error => console.error('Erro ao carregar o modal:', error));
        }

        // Carrega os modais necessários
        loadModal('sigaaModal', './modals/loginModal.html');
        loadModal('registerModal', './modals/registerModal.html');
        loadModal('modalConfig', './modals/configLeitordeTelaModal.html');
        loadModal('modalAcessibilidade', './modals/btnacessibilidadeModal.html');

        // Remove backdrop ao fechar modais
        document.addEventListener('hidden.bs.modal', function () {
            const backdrops = document.querySelectorAll('.modal-backdrop');
            backdrops.forEach(b => b.remove());
        });
    </script>
</body>

</html>
